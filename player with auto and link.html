<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YashRajPW</title>
    <link rel="stylesheet" type="text/css" href="style2.css">
    <link rel="apple-touch-icon" sizes="180x180"
        href="https://cdn.jsdelivr.net/gh/ash314314/image-Cdn@main/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32"
        href="https://cdn.jsdelivr.net/gh/ash314314/image-Cdn@main/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16"
        href="https://cdn.jsdelivr.net/gh/ash314314/image-Cdn@main/favicon-16x16.png">
    <link rel="manifest" href="https://cdn.jsdelivr.net/gh/ash314314/image-Cdn@main/site.webmanifest">
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css">
    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    <noscript>
        <h2>JavaScript is disabled! Please enable JavaScript in your web browser.</h2>
        <style type="text/css">
            .container {
                display: none;
            }
        </style>
    </noscript>
    <a href="https://t.me/yashrajpw" target="_blank" class="telegram-float">
        <div class="telegram-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
                <path
                    d="M56.4,8.2l-51.2,20c-1.7,0.6-1.6,3,0.1,3.5l9.7,2.9c2.1,0.6,3.8,2.2,4.4,4.3l3.8,12.1c0.5,1.6,2.5,2.1,3.7,0.9 l5.2-5.3c0.9-0.9,2.2-1,3.2-0.3l11.5,8.4c1.6,1.2,3.9,0.3,4.3-1.7l8.7-41.8C60.4,9.1,58.4,7.4,56.4,8.2z M50,17.4L29.4,35.6 c-1.1,1-1.9,2.4-2.0,3.9c-0.2,1.5-2.3,1.7-2.8,0.3l-0.9-3c-0.7-2.2,0.2-4.5,2.1-5.7l23.5-14.6C49.9,16.1,50.5,16.9,50,17.4z">
                </path>
            </svg>
        </div>
    </a>
   
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

    

</head>

<body>
    <div class="container">
        <div class="content">
           
            <video id="player" controls>
                <!-- Video source will be added dynamically using Plyr -->
            </video>
        
            <h2>Play Download LectureðŸš€</h2>
            <select id="playHLSQualitySelector">

            </select>
            <button id="playHLSButton">Play Here</button>

            <div>
                <button id="copyButton">Copy Link</button>
                <button id="openVLC">Open with VLC</button>
                <button id="openMXPlayerFree">Open with MX Player</button>
                <button id="openMXPlayerPro">Open with MX Player Pro</button>
                <button id="open1DM">Open with 1DM</button>
                <div>
    
                <a href="#" id="popupLink" style="text-decoration: none;"> <b style="color: red;">How to View Lecture Tutorial</b> </a>
                <div class="popup-container" id="popup">
                    <div class="close-btn-container" onclick="closePopup()">
                        <span class="close-btn">X</span>
                    </div>
                    <h2 style="text-align: center;">How To Play Lectures in PC</h2>
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/rGoTTRWn8k8" title="How To Play Lectures in PC" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    </div>
                    <h2 style="text-align: center;">How to Download Lectures in PC</h2>
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/VC8KnF-Yjv4" title="How to Download Lectures in PC" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    </div>
                    <div>
                        <b>Available for Windows Only</b><br>
                        <a class="button" href="https://vps.noobs.workers.dev/0:/32 bit.zip">Download 32-bit Software</a>
                        <a class="button" href="https://vps.noobs.workers.dev/0:/64 bit.zip">Download 64-bit Software</a>
                        <br>
                        <b>Available for All Chrome PC Users</b><br>
                        <a class="button" href="https://chrome.google.com/webstore/detail/m3u8-downloader/pibnhedpldjakfpnfkabbnifhmokakfb/related">M3u8 Downloader for Chrome</a>
                        <a class="button" href="https://chrome.google.com/webstore/detail/play-hls/hahkjjkedonglpienpfiganogikkkoii">M3u8 Player for Chrome</a>
                    </div>
                    
                    <!-- Add more video containers if needed -->
                </div>
                <script>
                   // Function to close the popup
            function closePopup() {
                document.getElementById('popup').style.display = 'none';
                document.getElementById('overlay').style.display = 'none';
            }
            
            document.addEventListener("DOMContentLoaded", function () {
                // Function to open the popup
                function openPopup() {
                    document.getElementById('popup').style.display = 'block';
                    document.getElementById('overlay').style.display = 'block';
                }
            
                // Attach the openPopup function to the link click event
                document.getElementById('popupLink').addEventListener('click', function (event) {
                    event.preventDefault(); // Prevent the default link behavior
                    openPopup();
                });
            
                // Attach the closePopup function to the close button click event
                document.getElementById('closePopupBtn').addEventListener('click', closePopup);
            
                // Attach the closePopup function to the overlay click event
                document.getElementById('overlay').addEventListener('click', closePopup);
            });
            
                </script>
            </div>
            </div>
        </div>
    </div>

    


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const video = document.getElementById('player');
            const qualitySelector = document.getElementById('playHLSQualitySelector');
            const playButton = document.getElementById('playHLSButton');
            const copyButton = document.getElementById('copyButton');
            const openVLCButton = document.getElementById('openVLC');
            const openMXPlayerFreeButton = document.getElementById('openMXPlayerFree');
            const openMXPlayerProButton = document.getElementById('openMXPlayerPro');
            const open1DMButton = document.getElementById('open1DM');
            const defaultOptions = {};
            let hls;
            let player;

            function initializePlyr() {
                player = new Plyr('#player', {
                    captions: { active: true, update: true, language: 'auto' },
                    controls: ['play-large', 'play', 'progress', 'current-time', 'mute', 'volume', 'captions', 'settings', 'fullscreen'],
                });

                // Trigger video play after Plyr is initialized
                playAutoVideo();
            }

            function playAutoVideo() {
                const m3u8Url = getM3u8Link();
                if (m3u8Url) {
                    if (Hls.isSupported()) {
                        if (hls) {
                            hls.destroy();
                        }
                        hls = new Hls();
                        hls.loadSource(`${m3u8Url}_master.m3u8`); // Use _master.m3u8
                        hls.attachMedia(video);
                        hls.on(Hls.Events.MANIFEST_PARSED, function () {
                            video.play();
                        });
                    } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                        video.src = `${m3u8Url}_master.m3u8`; // Use _master.m3u8
                        video.addEventListener('loadedmetadata', function () {
                            video.play();
                        });
                    }
                } else {
                    alert('Invalid URL format. Please make sure the URL contains the "m" query parameter with a valid m3u8 link.');
                }
            }

            function getM3u8Link() {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get("m");
            }

            function playVideo(url) {
                if (Hls.isSupported()) {
                    if (hls) {
                        hls.destroy();
                    }
                    hls = new Hls();
                    hls.loadSource(url);
                    hls.attachMedia(video);
                    video.play(); // Start playing the video
                } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                    video.src = url;
                    video.addEventListener('loadedmetadata', function () {
                        video.play(); // Start playing the video
                    });
                }
            }

            function updateQualityDropdowns(m3u8Link) {
                const qualityOptions = ["240", "360", "480", "720", "master"];
                
                // Clear existing options
                qualitySelector.innerHTML = '';
                
                // Add quality options to the selection dropdown
                qualityOptions.forEach(option => {
                    const resolution = option === "master" ? "Auto" : option.charAt(0).toUpperCase() + option.slice(1);
                    const hlsOption = document.createElement('option');
                    hlsOption.value = option;
                    hlsOption.textContent = resolution;
                    
                    qualitySelector.appendChild(hlsOption);
                });
            
                // Set the default option (e.g., "360")
                qualitySelector.value = 'master';
            }
            

            // Event listener for the "Play M3U8 Video with HLS.js" button
            playButton.addEventListener('click', function () {
                const selectedQualityOption = qualitySelector.options[qualitySelector.selectedIndex];
                const m3u8Url = getM3u8Link();
                if (selectedQualityOption.value === "auto") {
                    playAutoVideo();
                } else {
                    const qualitySuffix = selectedQualityOption.value === "master" ? "_master" : `_${selectedQualityOption.value}`;
                    playVideo(`${m3u8Url}${qualitySuffix}.m3u8`);
                }
            });

            // Event listener for the "Copy Link" button
            copyButton.addEventListener('click', function () {
                const selectedQualityOption = qualitySelector.options[qualitySelector.selectedIndex];
                const videoUrl = selectedQualityOption.value === "auto" ?
                    `${getM3u8Link()}_master.m3u8` : `${getM3u8Link()}_${selectedQualityOption.value}.m3u8`;

                // Create a temporary input element to copy the text to clipboard
                const tempInput = document.createElement('input');
                tempInput.value = videoUrl;
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand('copy');
                document.body.removeChild(tempInput);

                // Provide user feedback (you can customize this part)
                alert('Link copied to clipboard!');
            });

            // Event listener for the "Open with VLC" button
            openVLCButton.addEventListener('click', function () {
                const selectedQualityOption = qualitySelector.options[qualitySelector.selectedIndex];
                const qualitySuffix = selectedQualityOption.value === "master" ? "_master" : `_${selectedQualityOption.value}`;
                const videoUrl = `${getM3u8Link()}${qualitySuffix}.m3u8`;
                window.open('vlc://' + videoUrl);
            });

            // Event listener for the "Open with MX Player Free" button
            openMXPlayerFreeButton.addEventListener('click', function () {
                openInMXPlayer('com.mxtech.videoplayer.ad');
            });

            // Event listener for the "Open with MX Player Pro" button
            openMXPlayerProButton.addEventListener('click', function () {
                openInMXPlayer('com.mxtech.videoplayer.pro');
            });

            // Event listener for the "Open with 1DM" button
            open1DMButton.addEventListener('click', function () {
                const selectedQualityOption = qualitySelector.options[qualitySelector.selectedIndex];
                const qualitySuffix = selectedQualityOption.value === "master" ? "_master" : `_${selectedQualityOption.value}`;
                const videoUrl = `${getM3u8Link()}${qualitySuffix}.m3u8`;
                const intentUrl = 'intent:' + videoUrl + '#Intent;package=idm.internet.download.manager;end';
                window.open(intentUrl);
            });

            // General function to open MX Player with a specific package name
            function openInMXPlayer(packageName) {
                const selectedQualityOption = qualitySelector.options[qualitySelector.selectedIndex];
                const qualitySuffix = selectedQualityOption.value === "master" ? "_master" : `_${selectedQualityOption.value}`;
                const videoUrl = `${getM3u8Link()}${qualitySuffix}.m3u8`;

                // Create an intent URL for MX Player
                const intentUrl = `intent:${videoUrl}#Intent;package=${packageName};end`;

                // Open the intent URL
                window.open(intentUrl, '_blank');
            }

            // Function to check if the user is on a PC
            function isPC() {
                return window.innerWidth > 768; // Adjust the threshold as needed
            }

            // Hide buttons if the user is on a PC
            if (isPC()) {
                document.getElementById('openVLC').style.display = 'none';
                document.getElementById('openMXPlayerFree').style.display = 'none';
                document.getElementById('openMXPlayerPro').style.display = 'none';
                document.getElementById('open1DM').style.display = 'none';
            }

            // Initialize Plyr.io
            initializePlyr();

            // Extract the m3u8 link from the URL
            const urlParams = new URLSearchParams(window.location.search);
            const m3u8Link = urlParams.get("m");

            if (m3u8Link) {
                updateQualityDropdowns(m3u8Link);
                // Automatically play the video with the default link (auto quality)
                playAutoVideo();
            } else {
                // Invalid URL
                alert('Invalid URL format. Please make sure the URL contains the "m" query parameter with a valid m3u8 link.');
            }
        });
    </script>
    
    

</body>
