<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notes</title>
    <style>
        /* Your existing styles remain unchanged */
        .table {
            width: 80%;
            margin: auto;
        }
        /* ... */
    </style>
</head>
<body>

<div>
    <label for="linksInput">Links (one per line):</label>
    <textarea id="linksInput" placeholder="Enter links"></textarea>

    <button onclick="generateTable()">Generate Table</button>
</div>

<div class="table" id="generatedTable">
    <!-- Generated table will appear here -->
</div>

<select id="rowSelector">
    <!-- Row selection dropdown will appear here -->
</select>

<button id="copyRowCodeButton" onclick="copyRowCode()">Copy Row Code</button>

<button id="copyTableCode" onclick="copyTableCode()">Copy Table Code</button>

<script>
    function generateTable() {
        var linksInput = document.getElementById("linksInput");
        var rowSelector = document.getElementById("rowSelector");

        var links = linksInput.value.split("\n");

        var tableHtml = '<table id="table2" class="hidden"><thead><tr><th>Name</th><th>Notes</th></tr></thead><tbody>';

        for (var i = 0; i < links.length; i++) {
            // Extracting name from the link and replacing underscores with vertical bars
            var name = links[i].split("/").pop().replace(/_/g, "|").replace(".pdf", "");
            tableHtml += '<tr><td>' + name.trim() + '</td><td><a class="button" href="' + links[i].trim() + '" style="text-align: center; text-wrap: wrap;">Download</a></td></tr>';
        }

        tableHtml += '</tbody></table>';

        var generatedTable = document.getElementById("generatedTable");
        generatedTable.innerHTML = tableHtml;

        // Update row selection dropdown
        updateRowSelector();
    }

    function updateRowSelector() {
        var rowSelector = document.getElementById("rowSelector");
        var generatedTableRows = document.querySelectorAll("#generatedTable tbody tr");

        // Clear existing options
        rowSelector.innerHTML = "";

        // Add options for each row
        generatedTableRows.forEach(function (row, index) {
            var option = document.createElement("option");
            option.value = index;
            option.text = "Row " + (index + 1);
            rowSelector.add(option);
        });
    }

    // The rest of your code remains unchanged...
</script>

</body>
</html>
